# 집안일매니저 📱

가족 구성원 간의 집안일을 효율적으로 관리하는 Google Apps Script 기반 웹앱입니다.

## 🚀 주요 기능

### 📋 할 일 관리
- **오늘 할 일**: 당일 해야 할 집안일 목록 표시
- **내일 할 일 계획**: 우선순위별 정렬된 할 일 목록
- **상태 관리**: 할 일 → 진행중 → 완료 → 할 일 순환
- **주기별 반복**: 매일, 매주, 매달, 분기, 매년 설정

### 👨‍👩‍👧‍👦 가족 협업
- **가족 그룹**: 가족 구성원 초대 및 관리
- **역할 분담**: 할 일별 담당자 지정
- **실시간 동기화**: 가족 구성원 간 진행 상황 공유

### 🐚 보상 시스템
- **조개 획득**: 할 일 완료 시 조개 1개 획득
- **진행 통계**: 일/주/월별 완료 통계 확인
- **동기부여**: 시각적 보상으로 지속적인 참여 유도

### 🔔 스마트 알림
- **시간 설정**: 원하는 시간에 알림 수신
- **요일 선택**: 평일/주말 구분 알림
- **다중 채널**: 앱 푸시, 카카오톡 전송

## 📊 데이터베이스 구조

### 시트1: 사용자 정보 (Users)
| 필드명 | 타입 | 설명 | 예시 |
|--------|------|------|------|
| user_id | String | 사용자 고유 ID | USER00001 |
| name | String | 실명 | 김철수 |
| phone | String | 핸드폰 번호 | 010-1234-5678 |
| email | String | 구글 이메일 | user@gmail.com |
| shell_person | Number | 보유 조개 수 | 15 |
| register_at | DateTime | 생성일시 | 2024-09-30T00:00:00Z |
| updated_at | DateTime | 수정일시 | 2024-09-30T00:00:00Z |
| alarm | Time | 알람시간 | 00:00:00Z |




### 시트2: 가족 그룹 정보 (Family)
| 필드명 | 타입 | 설명 | 예시 |
|--------|------|------|------|
| family_id | String | 가족 그룹 고유 ID | F0001 |
| family_name | String | 가족 그룹명 | 우리가족 |
| created_by | String | 생성자 ID | USER001 |
| member_count | Number | 구성원 수 | 3 |
| created_at | DateTime | 생성일시 | 2024-09-30T00:00:00Z |
| updated_at | DateTime | 수정일시 | 2024-09-30T00:00:00Z |



### 시트3: 가족 구성원 정보 (Family members)
| 필드명 | 타입 | 설명 | 예시 |
|--------|------|------|------|
| id_infamily| String | 가족구성원 ID | IDF001-01 |
| nick_infamily | String | 가족 내 닉네임 | 아빠 |
| family_id | String | 가족 그룹 ID | F001 |
| user_id | String | 사용자 고유 ID | USER00001 |


### 시트4: 가전제품 (Item)
| 필드명 | 타입 | 설명 | 예시 |
|--------|------|------|------|
| item_id | String | 가전제품 ID | I001 |
| item_name | String | 가전제품 이름 | 식기세척기 |
| item_at | DateTime | 생성일시 | 2024-09-30T00:00:00Z |


### 시트5: 집안일 템플릿 (Chore_main)
| 필드명 | 타입 | 설명 | 예시 |
|--------|------|------|------|
| chore_id | String | 집안일 고유 ID | C001 |
| chore_name | String | 집안일 이름 | 설거지 |
| choregroup_name | String | 카테고리 | 주방, 거실, 안방, 다른방, 화장실, 베란다, 현관, 계절, 자동차, 강아지, 정원, 기타 |
| freq_type | String | 주기 타입 | daily, weekly, monthly |
| freq_value | Number | 주기 값 (일/주/월) | 1, 7, 30 |
| item_id | String | 연관 가전제품 ID | I001 |
| template | Number | 템플릿 여부 (1=기본템플릿, 0=사용자정의) | 1 |
| use | String | 사용 여부 | Y, N |

**설명**: 
- `template=1`: 모든 가족에게 제공되는 기본 집안일 템플릿
- `template=0`: 사용자가 직접 추가한 커스텀 집안일
- 새 가족 생성 시 이 시트를 복사하여 `Chore_family_{family_id}` 시트 생성

### 시트6: 가족별 집안일 (Chore_family_{family_id})
각 가족별로 개별 시트가 생성됩니다 (예: Chore_family_F1234567890)

| 필드명 | 타입 | 설명 | 예시 |
|--------|------|------|------|
| chore_id | String | 집안일 고유 ID | C1 |
| chore_name | String | 집안일 이름 | 설거지 |
| choregroup_name | String | 집안일 그룹 | 주방 |
| freq_type | String | 주기 타입 | d(일), w(주) |
| freq_value | Number | 주기 값 | 1, 2, 7 |
| item_id | String | 연관 가전제품 | I1 |
| template | Number | 템플릿 여부 | 0(커스텀), 1(템플릿) |
| use | String | 사용 여부 | Y(사용), N(미사용) |
| last_date | Date | 마지막 완료일 | 2024-09-28 |
| due_date | Date | 예정일 (할당 시 설정) | 2024-09-30 |
| assignee | String | 담당자 (id_infamily) | F1234_1 |
| status | String | 상태 | 완료, 진행중 등 |
| color | String | 우선순위 색상 | 빈 문자열 (프론트엔드에서 동적 결정) |
| created_at | DateTime | 생성일시 | 2024-09-30T00:00:00Z |
| updated_at | DateTime | 수정일시 | 2024-09-30T00:00:00Z |

**주요 필드 설명:**
- `use`: 가족이 해당 집안일을 사용할지 여부 (Y/N)
- `last_date`: 집안일을 마지막으로 완료한 날짜
- `due_date`: 사용자가 "내일 할일"에서 선택하면 설정되는 예정일
- `assignee`: 집안일을 할당받은 가족 구성원의 id_infamily
- `color`: 긴급도와 할당 상태에 따라 프론트엔드에서 동적으로 결정됨

### 시트7: 활동 로그 (Logs)
| 필드명 | 타입 | 설명 | 예시 |
|--------|------|------|------|
| log_id | String | 로그 고유 ID | LOG001 |
| user_id | String | 사용자 ID | USER001 |
| task_id | String | 할 일 ID | TASK001 |
| action | String | 액션 타입 | create_task, complete_task, invite_member |
| details | String | 상세 내용 | 할 일 완료: 설거지 |
| timestamp | DateTime | 발생일시 | 2024-09-30T12:00:00Z |

## 🎨 우선순위 색상 시스템

### 🔴 빨간색 (Red)
- 매일 해야 하는 일
- 2일 이하로 남은 일
- 주간 할 일 중 5일 이상 지난 일
- 2주 주기 할 일 중 12일 이상 지난 일

### 🔵 파란색 (Blue)
- 내가 오늘이나 내일 할 일로 지정한 일
- 사용자가 직접 계획한 할 일

### 🟢 연두색 (Green)
- 다른 가족이 오늘이나 내일 할 일로 지정한 일
- 가족 구성원의 계획된 할 일

### ⚫ 검정색 (Black)
- 기본 설정 할 일
- 다른 색상에 해당하지 않는 일반적인 할 일


### ⚫ 회회색 (Gray)
- 완료한 할일. 
- 사용자나 다른 가족이 done 으로 지정한 일일



## 🛠️ 설치 및 배포

### 1. Google Apps Script 설정
1. [Google Apps Script](https://script.google.com) 접속
2. 새 프로젝트 생성
3. `code.gs` 파일 내용 복사/붙여넣기
4. 구글시트 ID 설정 (`SPREADSHEET_ID` 변수 수정)

### 2. HTML 파일 추가
1. Apps Script 편집기에서 `파일 > 새로 만들기 > HTML 파일`
2. 파일명을 `index`로 설정
3. `index.html` 내용 복사/붙여넣기

### 3. 웹앱 배포
1. Apps Script 편집기에서 `배포 > 새 배포`
2. 유형: 웹앱 선택
3. 실행 대상: 본인 계정
4. 액세스 권한: 모든 사용자
5. 배포 후 웹앱 URL 복사

### 4. 프론트엔드 연동
1. `index.html`의 `GAS_WEB_APP_URL` 변수를 배포된 URL로 수정
2. 웹앱 테스트 및 확인

## 📱 사용 방법

### 초기 설정
1. 웹앱 접속 후 회원가입
2. 가족 그룹 생성 또는 참여
3. 기본 할 일 목록 설정

### 일상 사용
1. **오늘 할 일** 탭에서 체크박스 클릭으로 상태 변경
2. **내일일 할 일** 탭에서 체크박스 클릭으로 내일 할 일 지정정
2. **할 일 관리** 탭에서 새로운 할 일 추가/수정
3. **나의 조개** 탭에서 성과 확인
4. **가족 관리** 탭에서 구성원 초대 및 알림 설정

## 🔧 주요 기능 상세

### 할 일 상태 순환
```
할 일 (todo) → 진행중 (ing) → 완료 (done) → 할 일 (todo)
```

### 주기별 할 일 탬플릿릿
- **매일**: 설거지, 바닥청소, 침구정리, 빨래, 음식물쓰레기, 부엌 개수대, 화장실 수채구멍, 밥하기, 반찬하기
 
- **매주**: 장보기, 화장실청소(변기, 바닥, 세면대), 분리수거, 쓰레기버리기, 정수기 관리, 비우기첼린지
- **4주**: 현관, 베란다, 방향제 관리, 가구먼지제거, 베게이불세탁, 스텐그릇/냄비 관리, 전자레인지/토스트기 관리, 에어후라이기 관리, 인덕션/가스렌지 관리, 세탁기 통세탁, 음식물쓰레기관리, 에어컨필터 물세척, 공기청정기 필터 물세척, 가습기 청소
- **12주**: 침구변경, 운동화/신발, 청소기통 비우기/로봇청소기 관리, 식기세척기관리, 주방후트청소, 운동화/신발 빨래, 샤워기/세면대/주방수전/비대 필터교체, 정수기필터 교체 및 외부세척, 
- **52주**: 크리스마스 트리 넣기 (1월)
 겨울옷 넣고 반팔옷 꺼내기(4월)
 커튼빨래(4월)
 차 와이퍼 교체 (5월)
 선풍기꺼내기 (5월)
 옷장 신발장 제습제(6월)
 모기장 설치 (8월)
 선풍기넣기 (9월)
 여름옷 정리, 긴팔 외투 꺼내기(9월)
 전기장판/난방기 꺼내기 (10월)
 차 에어컨필터 (10월 초)

## 🎯 개발 원칙

### 사용자 경험 (UX)
- 직관적이고 사용하기 쉬운 인터페이스
- 모바일 우선 반응형 디자인
- 빠른 로딩과 부드러운 애니메이션

### 데이터 관리
- 실시간 동기화로 가족 간 정보 공유
- 안전한 데이터 저장 및 백업
- 개인정보 보호 및 보안

### 성능 최적화
- 효율적인 API 호출 최소화
- 오프라인 모드 지원
- 캐싱을 통한 빠른 응답

## 🚀 향후 개발 계획

### Phase 1 (현재)
- ✅ 기본 할 일 관리 기능
- ✅ 가족 그룹 관리
- ✅ 보상 시스템 (조개)
- ✅ 모바일 반응형 UI

### Phase 2 (예정)
- 📱 PWA (Progressive Web App) 구현
- 🔔 실제 푸시 알림 연동
- 📊 상세 통계 및 분석
- 🎨 다크 모드 지원

### Phase 3 (계획)
- 🤖 AI 기반 할 일 추천
- 📈 가족 성과 대시보드
- 🏆 성취 배지 시스템
- 🌐 다국어 지원

## 📞 지원 및 문의

개발자: 집안일매니저 팀  
이메일: support@houseworkmanager.com  
GitHub: [https://github.com/housework-manager](https://github.com/housework-manager)

---

**집안일매니저**로 우리 가족의 집안일을 더 체계적이고 즐겁게 관리해보세요! 🏠✨